{
    "title": "Geo-Service Availability Dashboard",
    "panels": [
        {
            "title": "Cache Hit Rate (Cloudflare Worker)",
            "type": "graph",
            "targets": [
                {
                    "expr": "sum(rate(worker_requests_total{status='rewrite_kv'}[5m])) / sum(rate(worker_requests_total[5m]))"
                }
            ]
        },
        {
            "title": "RPC Latency (Supabase)",
            "type": "heatmap",
            "targets": [
                {
                    "expr": "histogram_quantile(0.95, rate(supabase_rpc_duration_seconds_bucket[5m]))"
                }
            ]
        },
        {
            "title": "Top Disabled Services",
            "type": "table",
            "targets": [
                {
                    "rawSql": "SELECT s.name, count(*) FROM service_availability sa JOIN services s ON sa.service_id=s.id WHERE sa.is_enabled=false GROUP BY s.name"
                }
            ]
        }
    ]
}