(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{1104:(e,s,t)=>{"use strict";t.d(s,{N:()=>o});var a=t(9199),l=t(3680);let i=e=>{try{if(void 0!==l&&l.env)return l.env[e]}catch{}},r={SUPABASE_URL:void 0!==l&&"https://gdnltvvxiychrsdzenia.supabase.co"||void 0!==l&&l.env?.VITE_SUPABASE_URL||i("EXPO_PUBLIC_SUPABASE_URL")||"https://placeholder.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0",GOOGLE_MAPS_KEY:void 0!==l&&l.env?.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY||void 0!==l&&l.env?.VITE_GOOGLE_MAPS_API_KEY||i("EXPO_PUBLIC_GOOGLE_MAPS_API_KEY")||"",IS_DEV:"true"===i("DEV"),IS_TEST_MODE:void 0!==l||void 0!==l&&l.env?.VITE_TEST_MODE==="true"||"true"===i("EXPO_PUBLIC_TEST_MODE"),ENABLE_OTP_BYPASS:void 0!==l||void 0!==l&&l.env?.VITE_ENABLE_OTP_BYPASS==="true"||"true"===i("EXPO_PUBLIC_ENABLE_OTP_BYPASS")},c=r.SUPABASE_URL||"https://placeholder.supabase.co",n=r.SUPABASE_ANON_KEY||"placeholder";"https://placeholder.supabase.co"===c&&console.warn("⚠️ Supabase environment variables are missing! Using placeholder values. Auth will not work.");let o=(0,a.UU)(c,n,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{Accept:"application/json"}}})},5130:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(4568),l=t(7620),i=t(9748),r=t(1104);function c(){let e=(0,i.useSearchParams)(),s=(0,i.useRouter)(),t=e.get("q")||"",[c,n]=(0,l.useState)([]),[o,d]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{!async function(){if(!t)return d(!1);try{let e=t.trim().toLowerCase(),{data:s,error:a}=await r.N.from("services").select("code, name, description, category_id, base_price_cents").or(`name.ilike.%${e}%,description.ilike.%${e}%`).eq("is_active",!0).limit(20);if(a)throw a;n(s||[])}catch(e){console.error("Search error:",e),n([])}finally{d(!1)}}()},[t]),o)?(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200 px-4 py-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>s.back(),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100",children:(0,a.jsx)("span",{className:"text-xl",children:"←"})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("h1",{className:"text-lg font-bold text-foreground",children:"Searching..."})})]})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-slate-200 rounded w-full mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-slate-200 rounded w-1/4"})]},s))})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200 px-4 py-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>s.back(),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors",children:(0,a.jsx)("span",{className:"text-xl",children:"←"})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("h1",{className:"text-lg font-bold text-foreground",children:c.length>0?`${c.length} result${1!==c.length?"s":""} for "${t}"`:`No results for "${t}"`})})]})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:0===c.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD0D"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-foreground mb-2",children:"No services found"}),(0,a.jsx)("p",{className:"text-muted mb-6",children:"Try searching for something else or browse our categories"}),(0,a.jsx)("button",{onClick:()=>s.push("/"),className:"bg-accent text-white px-6 py-3 rounded-full font-semibold hover:bg-accent/90 transition-colors",children:"Browse Categories"})]}):(0,a.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,a.jsxs)("button",{onClick:()=>{var t;return t=e.code,void s.push(`/service/${t}`)},className:"w-full bg-white rounded-xl p-4 shadow-sm hover:shadow-md transition-all text-left group",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-foreground mb-1 group-hover:text-accent transition-colors",children:e.name}),e.description&&(0,a.jsx)("p",{className:"text-sm text-muted mb-2 line-clamp-2",children:e.description}),e.base_price_cents&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm font-semibold text-accent",children:["₹",(e.base_price_cents/100).toFixed(0)]}),(0,a.jsx)("span",{className:"text-xs text-muted",children:"onwards"})]})]},e.code))})})]})}function n(){return(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"⏳"}),(0,a.jsx)("p",{className:"text-muted",children:"Loading..."})]})}),children:(0,a.jsx)(c,{})})}},6319:(e,s,t)=>{Promise.resolve().then(t.bind(t,5130))}},e=>{e.O(0,[740,587,968,358],()=>e(e.s=6319)),_N_E=e.O()}]);